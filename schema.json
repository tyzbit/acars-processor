{"$schema":"https://json-schema.org/draft/2020-12/schema","$ref":"#/$defs/Config","$defs":{"ACARSAnnotatorConfig":{"properties":{"Enabled":{"type":"boolean","default":true},"SelectedFields":{"items":{"type":"string","examples":["acarsFrequencyMHz"]},"type":"array"}},"additionalProperties":false,"type":"object","required":["Enabled"]},"ACARSConnectionConfig":{"properties":{"Host":{"type":"string","default":"acarshub"},"Port":{"type":"integer","default":15550}},"additionalProperties":false,"type":"object","required":["Host","Port"]},"ACARSFilterConfig":{"properties":{"DuplicateMessageSimilarity":{"type":"number","examples":[0.9]}},"additionalProperties":false,"type":"object"},"ACARSHubConfig":{"properties":{"ACARS":{"$ref":"#/$defs/ACARSConnectionConfig"},"VDLM2":{"$ref":"#/$defs/VDLM2Connection"},"MaxConcurrentRequests":{"type":"integer"}},"additionalProperties":false,"type":"object"},"ADSBExchangeAnnotatorConfig":{"properties":{"APIKey":{"type":"string"},"ReferenceGeolocation":{"type":"string","examples":["35.6244416"]},"SelectedFields":{"items":{"type":"string","examples":["adsbOriginGeolocation"]},"type":"array"}},"additionalProperties":false,"type":"object","required":["APIKey"]},"AnnotatorsConfig":{"properties":{"ACARS":{"$ref":"#/$defs/ACARSAnnotatorConfig"},"VDLM2":{"$ref":"#/$defs/VDLM2AnnotatorConfig"},"ADSBExchange":{"$ref":"#/$defs/ADSBExchangeAnnotatorConfig"},"Tar1090":{"$ref":"#/$defs/Tar1090AnnotatorConfig"},"Ollama":{"$ref":"#/$defs/OllamaAnnotatorConfig"}},"additionalProperties":false,"type":"object"},"Config":{"properties":{"LogLevel":{"type":"string","default":"info"},"ColorOutput":{"type":"boolean","default":true},"ACARSHub":{"$ref":"#/$defs/ACARSHubConfig"},"Annotators":{"$ref":"#/$defs/AnnotatorsConfig"},"Filters":{"$ref":"#/$defs/FiltersConfig"},"Receivers":{"$ref":"#/$defs/ReceiversConfig"}},"additionalProperties":false,"type":"object"},"DiscordWebhookReceiverConfig":{"properties":{"URL":{"type":"string"},"FormatText":{"type":"boolean","default":true},"RequiredFields":{"items":{"type":"string","examples":["acarsMessageText"]},"type":"array"}},"additionalProperties":false,"type":"object","required":["URL"]},"FiltersConfig":{"properties":{"Generic":{"$ref":"#/$defs/GenericFilterConfig"},"ACARS":{"$ref":"#/$defs/ACARSFilterConfig"},"VDLM2":{"$ref":"#/$defs/VDLM2FilterConfig"},"Ollama":{"$ref":"#/$defs/OllamaFilterConfig"},"OpenAI":{"$ref":"#/$defs/OpenAIFilterConfig"}},"additionalProperties":false,"type":"object"},"GenericFilterConfig":{"properties":{"HasText":{"type":"boolean"},"TailCode":{"type":"string"},"FlightNumber":{"type":"string"},"ASSStatus":{"type":"string","examples":["anything"]},"AboveSignaldBm":{"type":"number","examples":[-10.0]},"BelowSignaldBm":{"type":"number","examples":[-10.0]},"Frequency":{"type":"number","examples":[136.950]},"StationID":{"type":"string","examples":["N12346"]},"FromTower":{"type":"boolean"},"FromAircraft":{"type":"boolean"},"More":{"type":"boolean"},"AboveDistanceNm":{"type":"number","examples":[15.5]},"BelowDistanceNm":{"type":"number","examples":[15.5]},"Emergency":{"type":"boolean"},"DictionaryPhraseLengthMinimum":{"type":"integer","examples":[5]}},"additionalProperties":false,"type":"object"},"NewRelicReceiverConfig":{"properties":{"APIKey":{"type":"string"},"CustomEventType":{"type":"string","examples":["CustomACARS"]}},"additionalProperties":false,"type":"object","required":["APIKey"]},"OllamaAnnotatorConfig":{"properties":{"Model":{"type":"string","default":"llama3.2"},"URL":{"type":"string","examples":["http://ollama-service:11434"]},"UserPrompt":{"type":"string","examples":["Is there prose in this message? If present backticks."]},"SystemPrompt":{"type":"string"},"MaxPredictionTokens":{"type":"integer","examples":[512]},"MaxRetryAttempts":{"type":"integer","examples":[5]},"MaxRetryDelaySeconds":{"type":"integer","examples":[5]},"Timeout":{"type":"integer","examples":[5]},"Options":{"items":{"$ref":"#/$defs/OllamaOptionsConfig"},"type":"array"},"FilterWithQuestion":{"type":"boolean"},"SelectedFields":{"items":{"type":"string","examples":["ollamaProcessedText"]},"type":"array"}},"additionalProperties":false,"type":"object","required":["Model","URL","UserPrompt"]},"OllamaFilterConfig":{"properties":{"Model":{"type":"string","default":"llama3.2"},"URL":{"type":"string","examples":["http://ollama-service:11434"]},"UserPrompt":{"type":"string","examples":["Is there prose in this message?"]},"SystemPrompt":{"type":"string"},"MaxPredictionTokens":{"type":"integer"},"MaxRetryAttempts":{"type":"integer","examples":[5]},"MaxRetryDelaySeconds":{"type":"integer","examples":[5]},"Timeout":{"type":"integer","examples":[5]},"Options":{"items":{"$ref":"#/$defs/OllamaOptionsConfig"},"type":"array"},"FilterOnFailure":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["Model","URL","UserPrompt"]},"OllamaOptionsConfig":{"properties":{"Name":{"type":"string","default":"example_value"},"Value":true},"additionalProperties":false,"type":"object","required":["Name","Value"]},"OpenAIFilterConfig":{"properties":{"APIKey":{"type":"string"},"Model":{"type":"string","default":"gpt-4o"},"UserPrompt":{"type":"string","examples":["Does this message talk about coffee makers or lavatories (shortand LAV is sometimes used)?"]},"SystemPrompt":{"type":"string"},"Timeout":{"type":"integer","examples":[5]}},"additionalProperties":false,"type":"object","required":["APIKey","Model","UserPrompt"]},"ReceiversConfig":{"properties":{"NewRelic":{"$ref":"#/$defs/NewRelicReceiverConfig"},"Webhook":{"$ref":"#/$defs/WebHookReceiverConfig"},"DiscordWebhook":{"$ref":"#/$defs/DiscordWebhookReceiverConfig"}},"additionalProperties":false,"type":"object"},"Tar1090AnnotatorConfig":{"properties":{"URL":{"type":"string"},"ReferenceGeolocation":{"type":"string","examples":["35.6244416"]},"SelectedFields":{"items":{"type":"string"},"type":"array","default":["tar1090ReferenceGeolocation default:"]}},"additionalProperties":false,"type":"object","required":["URL"]},"VDLM2AnnotatorConfig":{"properties":{"Enabled":{"type":"boolean","default":true},"SelectedFields":{"items":{"type":"string","examples":["vdlm2AppName"]},"type":"array"}},"additionalProperties":false,"type":"object","required":["Enabled"]},"VDLM2Connection":{"properties":{"Host":{"type":"string","default":"acarshub"},"Port":{"type":"integer","default":15555}},"additionalProperties":false,"type":"object","required":["Host","Port"]},"VDLM2FilterConfig":{"properties":{"DuplicateMessageSimilarity":{"type":"number","examples":[0.9]}},"additionalProperties":false,"type":"object"},"WebHookReceiverConfig":{"properties":{"URL":{"type":"string","examples":["https://webhook:8443/webhook/?enable_feature=yes"]},"Method":{"type":"string","default":"POST"},"Headers":{"items":{"$ref":"#/$defs/WebHookReceiverConfigHeaders"},"type":"array"}},"additionalProperties":false,"type":"object","required":["URL","Method"]},"WebHookReceiverConfigHeaders":{"properties":{"Name":{"type":"string"},"Value":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Value"]}}}